@inherits LayoutComponentBase
@inject AuthState AuthState
@inject AppState AppState
@inject Navigation Nav

<MudAppBar Color="Color.Transparent" Elevation="0">
    <MudStack Row="true" AlignItems="AlignItems.Center" Style="cursor: pointer" @onclick='() => Nav.NavigateTo("/")'>
        <MudAvatar Rounded="true" Size="Size.Medium" Color="Color.Primary">
            <MudText Typo="Typo.h5" Style="font-weight: bold">X</MudText>
        </MudAvatar>
        <MudText Typo="Typo.h5" Color="Color.Primary" Style="font-weight: bold" Class="ml-3">@AppState.AppTitle</MudText>
    </MudStack>
    <MudSpacer/>
    <MudStack Row="true" AlignItems="AlignItems.Center">
        <MudIconButton Variant="Variant.Filled" Icon="@Icons.Material.Filled.Help" Color="Color.Primary"
                       OnClick='() => Nav.NavigateTo("/app/help")' Class="mr-3 pa-2"></MudIconButton>
        <AuthorizeView>
            <Authorized>
                <MudButton Variant="Variant.Outlined" Class="px-12 px-4" Color="Color.Primary" Size="Size.Large" OnClick="async () => await AuthState.TriggerSignOut()">Sign Out</MudButton>
            </Authorized>
        </AuthorizeView>
    </MudStack>
</MudAppBar>
<MudMainContent>
    <MudContainer MaxWidth="MaxWidth.ExtraExtraLarge">
        @Body
    </MudContainer>
</MudMainContent>