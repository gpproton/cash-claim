@using XClaim.Web.Shared.States
@implements IDisposable
@inject AppState AppState;

@code{
    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter]
    public RenderFragment? Content { get; set; }

    [Parameter]
    public string AppTitle { get; set; } = "X-Claim";

    protected override void OnParametersSet() {
        base.OnParametersSet();
        AppState.SetLayoutTitle(Content = ChildContent ?? Content);
        AppState.OnChange += StateHasChanged;
    }
    
    public void Dispose() => AppState.OnChange -= StateHasChanged;
}

<PageTitle>@AppState.LayoutTitle :: @AppTitle</PageTitle>